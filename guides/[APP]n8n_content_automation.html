<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>N8N Instagram Automation Workflow</title>
    <style>
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #f8fafc;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        
        .workflow-container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        
        .workflow-title {
            text-align: center;
            color: #1e293b;
            margin-bottom: 30px;
            font-size: 2.2em;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .n8n-logo {
            width: 40px;
            height: 40px;
            background: #ea4b71;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 18px;
        }
        
        .workflow-canvas {
            background: #fafbfc;
            border: 2px dashed #e2e8f0;
            border-radius: 12px;
            padding: 40px;
            margin: 20px 0;
            min-height: 800px;
            position: relative;
            overflow-x: auto;
        }
        
        .node {
            position: absolute;
            width: 180px;
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .node:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            border-color: #ea4b71;
        }
        
        .node-icon {
            width: 32px;
            height: 32px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 8px;
            font-size: 16px;
            font-weight: bold;
            color: white;
        }
        
        .node-title {
            font-weight: 600;
            font-size: 14px;
            color: #1e293b;
            margin-bottom: 4px;
        }
        
        .node-subtitle {
            font-size: 12px;
            color: #64748b;
            line-height: 1.3;
        }
        
        .connector {
            position: absolute;
            width: 12px;
            height: 12px;
            background: #ea4b71;
            border: 3px solid white;
            border-radius: 50%;
            box-shadow: 0 2px 6px rgba(234, 75, 113, 0.3);
        }
        
        .connector-right {
            right: -6px;
            top: 50%;
            transform: translateY(-50%);
        }
        
        .connector-left {
            left: -6px;
            top: 50%;
            transform: translateY(-50%);
        }
        
        .connection-line {
            position: absolute;
            height: 2px;
            background: linear-gradient(90deg, #ea4b71, #f472b6);
            z-index: 1;
        }
        
        /* Node positioning */
        .trigger { top: 50px; left: 50px; }
        .scraper { top: 50px; left: 300px; }
        .ai-analysis { top: 200px; left: 300px; }
        .image-gen { top: 350px; left: 300px; }
        .caption-gen { top: 200px; left: 550px; }
        .content-merge { top: 350px; left: 550px; }
        .instagram-post { top: 350px; left: 800px; }
        .notification { top: 200px; left: 1050px; }
        .storage { top: 50px; left: 550px; }
        
        /* Node colors */
        .trigger .node-icon { background: #10b981; }
        .scraper .node-icon { background: #3b82f6; }
        .ai-analysis .node-icon { background: #8b5cf6; }
        .image-gen .node-icon { background: #f59e0b; }
        .caption-gen .node-icon { background: #ef4444; }
        .content-merge .node-icon { background: #06b6d4; }
        .instagram-post .node-icon { background: #e91e63; }
        .notification .node-icon { background: #84cc16; }
        .storage .node-icon { background: #64748b; }
        
        .workflow-config {
            background: #f1f5f9;
            border-radius: 12px;
            padding: 25px;
            margin-top: 30px;
        }
        
        .config-title {
            font-size: 1.4em;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .config-section {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            border-left: 4px solid #ea4b71;
        }
        
        .config-section h4 {
            margin: 0 0 10px 0;
            color: #1e293b;
            font-weight: 600;
        }
        
        .config-code {
            background: #1e293b;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 13px;
            overflow-x: auto;
            margin: 10px 0;
        }
        
        .node-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .node-card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 15px;
        }
        
        .node-card-title {
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .status-badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
            text-transform: uppercase;
        }
        
        .status-active { background: #dcfce7; color: #166534; }
        .status-trigger { background: #fef3c7; color: #92400e; }
        .status-ai { background: #ede9fe; color: #6b21a8; }
    </style>
</head>
<body>
    <div class="workflow-container">
        <h1 class="workflow-title">
            <div class="n8n-logo">n8n</div>
            Instagram Content Automation Workflow
        </h1>
        
        <div class="workflow-canvas">
            <!-- Trigger Node -->
            <div class="node trigger">
                <div class="node-icon">‚è∞</div>
                <div class="node-title">Cron Trigger</div>
                <div class="node-subtitle">Daily at 9 AM<br>Start workflow</div>
                <div class="connector connector-right"></div>
            </div>
            
            <!-- Instagram Scraper -->
            <div class="node scraper">
                <div class="node-icon">üï∑Ô∏è</div>
                <div class="node-title">HTTP Request</div>
                <div class="node-subtitle">Scrape Instagram<br>hashtag posts</div>
                <div class="connector connector-left"></div>
                <div class="connector connector-right"></div>
            </div>
            
            <!-- Storage -->
            <div class="node storage">
                <div class="node-icon">üíæ</div>
                <div class="node-title">PostgreSQL</div>
                <div class="node-subtitle">Store scraped<br>content data</div>
                <div class="connector connector-left"></div>
                <div class="connector connector-right"></div>
            </div>
            
            <!-- AI Analysis -->
            <div class="node ai-analysis">
                <div class="node-icon">ü§ñ</div>
                <div class="node-title">OpenAI GPT-4</div>
                <div class="node-subtitle">Analyze content<br>success patterns</div>
                <div class="connector connector-left"></div>
                <div class="connector connector-right"></div>
            </div>
            
            <!-- Image Generation -->
            <div class="node image-gen">
                <div class="node-icon">üé®</div>
                <div class="node-title">DALL-E 3</div>
                <div class="node-subtitle">Generate trending<br>style images</div>
                <div class="connector connector-left"></div>
                <div class="connector connector-right"></div>
            </div>
            
            <!-- Caption Generation -->
            <div class="node caption-gen">
                <div class="node-icon">‚úçÔ∏è</div>
                <div class="node-title">OpenAI GPT-4</div>
                <div class="node-subtitle">Create engaging<br>captions + hashtags</div>
                <div class="connector connector-left"></div>
                <div class="connector connector-right"></div>
            </div>
            
            <!-- Content Merge -->
            <div class="node content-merge">
                <div class="node-icon">üîó</div>
                <div class="node-title">Merge</div>
                <div class="node-subtitle">Combine image<br>& caption data</div>
                <div class="connector connector-left"></div>
                <div class="connector connector-right"></div>
            </div>
            
            <!-- Instagram Post -->
            <div class="node instagram-post">
                <div class="node-icon">üì±</div>
                <div class="node-title">Instagram API</div>
                <div class="node-subtitle">Post to Business<br>account</div>
                <div class="connector connector-left"></div>
                <div class="connector connector-right"></div>
            </div>
            
            <!-- Notification -->
            <div class="node notification">
                <div class="node-icon">üîî</div>
                <div class="node-title">Telegram</div>
                <div class="node-subtitle">Send success<br>notification</div>
                <div class="connector connector-left"></div>
            </div>
            
            <!-- Connection Lines -->
            <div class="connection-line" style="top: 75px; left: 236px; width: 58px;"></div>
            <div class="connection-line" style="top: 75px; left: 486px; width: 58px;"></div>
            <div class="connection-line" style="top: 150px; left: 350px; width: 2px; height: 65px; background: linear-gradient(180deg, #ea4b71, #f472b6);"></div>
            <div class="connection-line" style="top: 225px; left: 486px; width: 58px;"></div>
            <div class="connection-line" style="top: 300px; left: 350px; width: 2px; height: 65px; background: linear-gradient(180deg, #ea4b71, #f472b6);"></div>
            <div class="connection-line" style="top: 375px; left: 486px; width: 58px;"></div>
            <div class="connection-line" style="top: 375px; left: 736px; width: 58px;"></div>
            <div class="connection-line" style="top: 225px; left: 736px; width: 58px;"></div>
            <div class="connection-line" style="top: 300px; left: 600px; width: 2px; height: 65px; background: linear-gradient(180deg, #ea4b71, #f472b6);"></div>
            <div class="connection-line" style="top: 375px; left: 986px; width: 58px;"></div>
            <div class="connection-line" style="top: 300px; left: 1100px; width: 2px; height: 65px; background: linear-gradient(180deg, #ea4b71, #f472b6);"></div>
        </div>
        
        <div class="workflow-config">
            <h3 class="config-title">
                ‚öôÔ∏è N8N Workflow Configuration
            </h3>
            
            <div class="node-list">
                <div class="node-card">
                    <h4 class="node-card-title">
                        ‚è∞ Cron Trigger
                        <span class="status-badge status-trigger">trigger</span>
                    </h4>
                    <div class="config-code">0 9 * * * // Daily at 9 AM</div>
                    <p><strong>Purpose:</strong> Initiates the workflow daily to maintain consistent posting schedule.</p>
                </div>
                
                <div class="node-card">
                    <h4 class="node-card-title">
                        üï∑Ô∏è Instagram Scraper
                        <span class="status-badge status-active">http</span>
                    </h4>
                    <div class="config-code">
POST /scrape-instagram
{
  "hashtags": ["#entrepreneur", "#success"],
  "limit": 50,
  "min_likes": 1000
}
                    </div>
                    <p><strong>Tool:</strong> Custom scraper or Apify Instagram Scraper</p>
                </div>
                
                <div class="node-card">
                    <h4 class="node-card-title">
                        üíæ PostgreSQL Storage
                        <span class="status-badge status-active">database</span>
                    </h4>
                    <div class="config-code">
INSERT INTO scraped_posts 
(post_id, likes, caption, image_url, hashtags)
VALUES (?, ?, ?, ?, ?)
                    </div>
                    <p><strong>Purpose:</strong> Store scraped data for analysis and prevent duplicates</p>
                </div>
                
                <div class="node-card">
                    <h4 class="node-card-title">
                        ü§ñ OpenAI Analysis
                        <span class="status-badge status-ai">ai</span>
                    </h4>
                    <div class="config-code">
{
  "model": "gpt-4-turbo",
  "prompt": "Analyze these top posts and identify success patterns...",
  "temperature": 0.3
}
                    </div>
                    <p><strong>Purpose:</strong> Extract insights from high-performing content</p>
                </div>
                
                <div class="node-card">
                    <h4 class="node-card-title">
                        üé® DALL-E 3 Generation
                        <span class="status-badge status-ai">ai</span>
                    </h4>
                    <div class="config-code">
{
  "model": "dall-e-3",
  "prompt": "{{$node.analysis.output.imageStyle}}",
  "size": "1024x1024",
  "quality": "hd"
}
                    </div>
                    <p><strong>Purpose:</strong> Create original images based on trending styles</p>
                </div>
                
                <div class="node-card">
                    <h4 class="node-card-title">
                        ‚úçÔ∏è Caption Generator
                        <span class="status-badge status-ai">ai</span>
                    </h4>
                    <div class="config-code">
{
  "model": "gpt-4-turbo",
  "prompt": "Create engaging caption with hooks and hashtags...",
  "max_tokens": 500
}
                    </div>
                    <p><strong>Purpose:</strong> Generate brand-aligned captions with optimal hashtags</p>
                </div>
                
                <div class="node-card">
                    <h4 class="node-card-title">
                        üì± Instagram Business API
                        <span class="status-badge status-active">api</span>
                    </h4>
                    <div class="config-code">
POST /v18.0/{ig-user-id}/media
{
  "image_url": "{{$node.dalle.output.url}}",
  "caption": "{{$node.caption.output.text}}"
}
                    </div>
                    <p><strong>Purpose:</strong> Publish content to Instagram Business account</p>
                </div>
                
                <div class="node-card">
                    <h4 class="node-card-title">
                        üîî Telegram Notification
                        <span class="status-badge status-active">notification</span>
                    </h4>
                    <div class="config-code">
‚úÖ Instagram post published!
üìä Engagement: {{$node.instagram.output.likes}}
üîó Link: {{$node.instagram.output.permalink}}
                    </div>
                    <p><strong>Purpose:</strong> Real-time success notifications and monitoring</p>
                </div>
            </div>
            
            <div class="config-section">
                <h4>üîß Required N8N Nodes & Credentials</h4>
                <ul>
                    <li><strong>Cron Trigger:</strong> Built-in scheduling</li>
                    <li><strong>HTTP Request:</strong> For Instagram scraping API</li>
                    <li><strong>PostgreSQL:</strong> Database storage</li>
                    <li><strong>OpenAI:</strong> GPT-4 & DALL-E 3 API keys</li>
                    <li><strong>Instagram Basic Display/Graph API:</strong> Business account access</li>
                    <li><strong>Telegram Bot:</strong> Notification delivery</li>
                    <li><strong>Merge Node:</strong> Data combination</li>
                </ul>
            </div>
            
            <div class="config-section">
                <h4>üìã Self-Hosting Requirements</h4>
                <ul>
                    <li><strong>N8N Instance:</strong> Docker or npm installation</li>
                    <li><strong>PostgreSQL Database:</strong> For content storage</li>
                    <li><strong>Instagram Business Account:</strong> With API access</li>
                    <li><strong>OpenAI API:</strong> GPT-4 & DALL-E 3 access</li>
                    <li><strong>Proxy/VPN:</strong> For Instagram scraping (recommended)</li>
                    <li><strong>SSL Certificate:</strong> For webhook endpoints</li>
                </ul>
            </div>
        </div>
    </div>
    
    <script>
        // Add interactivity to nodes
        document.querySelectorAll('.node').forEach(node => {
            node.addEventListener('click', function() {
                // Remove active class from all nodes
                document.querySelectorAll('.node').forEach(n => n.classList.remove('active'));
                // Add active class to clicked node
                this.classList.add('active');
                
                // Highlight connected nodes (simplified)
                const nodeClass = this.classList[1];
                console.log(`Selected node: ${nodeClass}`);
            });
        });
        
        // Add hover effects to connection lines
        document.querySelectorAll('.connection-line').forEach(line => {
            line.addEventListener('mouseenter', function() {
                this.style.background = 'linear-gradient(90deg, #f472b6, #a855f7)';
                this.style.height = '3px';
            });
            
            line.addEventListener('mouseleave', function() {
                this.style.background = 'linear-gradient(90deg, #ea4b71, #f472b6)';
                this.style.height = '2px';
            });
        });
    </script>
</body>
</html>